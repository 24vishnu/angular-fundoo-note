<div class="container" fxLayoutAlign="center">
    <mat-card class="register-mat-card" fxFlex="40" fxFlex.xs="80" fxFlex.md="90" fxFlex.sm="90">
        <mat-card-header class="mat-card-header">
            <mat-card-title class="mat-card-title">
                <span style="color: rgba(34, 34, 216, 0.788);">F</span>
                <span style="color: rgba(209, 12, 22, 0.788);">u</span>
                <span style="color: rgba(216, 143, 34, 0.788);">n</span>
                <span style="color: rgba(34, 34, 216, 0.788);">d</span>
                <span style="color: rgba(34, 216, 49, 0.788);">o</span>
                <span style="color: rgba(209, 12, 22, 0.788);">o</span>
            </mat-card-title>
            <div>
                <p class="register-text">Create your fundoo Account</p>
                <p class="continue-text">to continue to Fundoo</p>
            </div>
        </mat-card-header>
        <form [formGroup]="form">
            <div fxLayout="column wrap">
                <div class="username-field">
                    <mat-form-field floatLabel="auto" appearance="outline">
                            <mat-label>Username</mat-label>
                            <input matInput [(ngModel)]="registerUserData.username" name="username" type="text" required
                                formControlName="username"
                                [ngClass]="{'is-invalid':form.get('username').touched && form.get('username').invalid}">
                            <mat-error *ngIf="form.get('username').touched && form.get('username').invalid">
                                <div *ngIf="form.get('username').errors.required">Username is required</div>
                            </mat-error>
                    </mat-form-field>
                </div>
                <div class="name-field" fxLayout="row" fxLayout.xs="column" fxLayoutGap="1%">
                    <mat-form-field floatLabel="auto" appearance="outline">
                        <mat-label>First Name</mat-label>
                        <input matInput [(ngModel)]="registerUserData.first_name" name="first_name" type="text" required
                            formControlName="first_name"
                            [ngClass]="{'is-invalid':form.get('first_name').touched && form.get('first_name').invalid}">
                        <mat-error *ngIf="form.get('first_name').touched && form.get('first_name').invalid">
                            First name is required
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field floatLabel="auto" appearance="outline">
                        <mat-label>Last Name</mat-label>
                        <input matInput [(ngModel)]="registerUserData.last_name" name="last_name" type="text" required
                            formControlName="last_name"
                            [ngClass]="{'is-invalid':form.get('last_name').touched && form.get('last_name').invalid}">
                        <mat-error *ngIf="form.get('last_name').touched && form.get('last_name').invalid">
                            Last name is required
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="email-field">
                    <mat-form-field floatLabel="auto" appearance="outline" class="email-mat-form-field">
                        <mat-label>Email</mat-label>
                        <input matInput [(ngModel)]="registerUserData.email" name="email" type="email" required
                            formControlName="email"
                            [ngClass]="{'is-invalid':form.get('email').touched && form.get('email').invalid}">
                        <mat-error *ngIf="form.get('email').touched && form.get('email').invalid">
                            <div *ngIf="form.get('email').errors.required">Email is required</div>
                            <div *ngIf="form.get('email').errors.email">Email must be a valid email address</div>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="password-field" fxLayout="row" fxLayout.xs="column" fxLayoutGap="1%">
                    <mat-form-field floatLabel="auto" appearance="outline">
                        <mat-label>Password</mat-label>
                        <input matInput [(ngModel)]="registerUserData.password" name="password" type="password" required
                            formControlName="password"
                            [ngClass]="{'is-invalid':form.get('password').touched && form.get('password').invalid}"
                            [type]="hide ? 'password': 'text' ">
                        <button mat-icon-button matSuffix (click)="hide=!hide">
                            <mat-icon>{{hide ? "visibility_off": "visibility"}}</mat-icon>
                        </button>
                        <mat-error *ngIf="form.get('password').touched && form.get('password').invalid">
                            <div *ngIf="form.get('password').errors.required">Password is required</div>
                            <div *ngIf="form.get('password').errors.minlength">Password must be atleast contain 6
                                characters</div>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field floatLabel="auto" appearance="outline">
                        <mat-label>Confirm Password</mat-label>
                        <input matInput type="password" [(ngModel)]="cpassword" required name="cpassword"
                            formControlName="cpassword"
                            [ngClass]="{'is-invalid':form.get('cpassword').touched && form.get('cpassword').invalid}"
                            [type]="hide1 ? 'password': 'text' ">
                        <button mat-icon-button matSuffix (click)="hide1=!hide1">
                            <mat-icon>{{hide1 ? "visibility_off": "visibility"}}</mat-icon>
                        </button>
                        <mat-error *ngIf="form.get('cpassword').touched && form.get('cpassword').invalid">
                            <div *ngIf="form.get('cpassword').errors.required">Password is required</div>
                            <div *ngIf="form.get('cpassword').errors.minlength">Password must be atleast contain 6
                                characters</div>
                            <div *ngIf="form.get('cpassword').errors">Password is not matching</div>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </form>
        <mat-card-actions class="mat-card-actions">
        <a routerLink='/login'> Sign in instead </a>

            <button mat-raised-button class="mat-raised-button" (click)="registerUser()">Register</button>
        </mat-card-actions>
    </mat-card>

</div>